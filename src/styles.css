:root{color-scheme:light;--bg:#ffffff;--fg:#111111;--surface:#ffffff;--surface-2:#f8fafc;--border:#e5e7eb;--link:#2563eb;--link-hover:#1d4ed8;--container-max:1140px;--header-height:64px;--menu-dur:300ms;--menu-ease:cubic-bezier(0.22,0.61,0.36,1)}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;line-height:1.4;background:var(--bg);color:var(--fg)}
.app{min-height:100vh;background:var(--bg);color:var(--fg)}

/* Header styles */
.header { position: absolute; top: 0; left: 0; right: 0; z-index: 100; transition: background-color var(--menu-dur) var(--menu-ease), border-color var(--menu-dur) var(--menu-ease), color var(--menu-dur) var(--menu-ease); will-change: background-color, border-color; }
.header.solid { position: sticky; background: transparent; border-bottom: 1px solid transparent; color: var(--fg); }
.header-container { max-width: var(--container-max); margin: 0 auto; padding: 0; height: var(--header-height); display: flex; align-items: center; justify-content: flex-end; }
.menu-toggle { display: none; background: none; border: none; cursor: pointer; padding: .5rem; color: #fff; }
.header.solid .menu-toggle { color: var(--fg); }
.header-nav { display: flex; align-items: center; width: 100%; }
/* Desktop hover: highlight individual nav buttons instead of whole header */
@media (hover: hover) and (pointer: fine) {
	/* Make each button fill the whole header height */
	.nav-link {
		height: var(--header-height);
		padding: 0 1rem; /* horizontal only; vertical handled by height */
		display: flex; align-items: center; justify-content: center;
	}
	/* Highlight entire column on hover (semi-transparent) */
	.nav-item:hover .nav-link {
			background: rgba(248, 250, 252, 0.70); /* slightly less transparent */
		color: var(--fg);
		text-shadow: none;
	}
	/* Keep full, solid background while dropdown is open to match the panel */
	.nav-item.expanded .nav-link {
		background: var(--surface-2);
		color: var(--fg);
		text-shadow: none;
	}
}
.nav-list { list-style: none; margin: 0; padding: 0; display: flex; gap: 0; width: 100%; }
.nav-item { position: relative; flex: 1; display: flex; }
.nav-link { color: #fff; text-decoration: none; font-weight: 500; text-shadow: 0 1px 2px rgba(0,0,0,0.5); background: none; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: .25rem; width: 100%; padding: .75rem 1rem; border-right: 1px solid rgba(255,255,255,0.1); transition: color .2s ease; }
.header.solid .nav-link { color: var(--fg); text-shadow: none; border-right: 1px solid var(--border); }
.nav-item:last-child .nav-link { border-right: none; }
.nav-link.active { color: #0ea5e9; }
.dropdown-trigger { padding: 0; font-family: inherit; font-size: inherit; }
.dropdown { position: fixed; top: var(--header-height); left: 50%; transform: translateX(-50%) translateY(-10px); max-width: var(--container-max); width: calc(100% - 4rem); background: var(--surface-2); border: 1px solid var(--border); border-radius: 8px; padding: 2rem; opacity: 0; visibility: hidden; transition: opacity var(--menu-dur) var(--menu-ease), transform var(--menu-dur) var(--menu-ease), visibility var(--menu-dur) var(--menu-ease); will-change: transform, opacity; }
.header.solid .dropdown { background: var(--surface-2); color: var(--fg); border: 1px solid var(--border); }
.dropdown.open { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0); border-top-left-radius: 0; border-top-right-radius: 0; }
.dropdown-content { width: 100%; display: flex; flex-direction: column; gap: 2rem; }
.dropdown-header { display: none; }
.dropdown-section { padding: 0; }
.dropdown-section:not(:last-child) { border-bottom: none; }
.section-title { font-weight: 700; font-size: .9rem; padding: 0 0 .75rem; color: var(--fg); text-transform: uppercase; letter-spacing: .02em; margin-bottom: .5rem; border-bottom: 2px solid var(--border); }
.header.solid .section-title { color: var(--fg); border-bottom-color: var(--border); }
.section-items { list-style: none; margin: 0; padding: 0; }
.dropdown-link { display: block; padding: .5rem 0; color: inherit; text-decoration: none; transition: color .2s ease, padding-left .2s ease; font-size: .9rem; }
.dropdown-link:hover { color: inherit; padding-left: .5rem; }
.header.solid .dropdown-link { color: inherit; }
.header.solid .dropdown-link:hover { color: inherit; }

@media (max-width: 768px) {
	/* Overlay mode: transparent header bar on mobile */
	.header { background: transparent; }
	/* Solid mode: also transparent on mobile */
	.header.solid { background: transparent; }
	/* When menu is open, make header match the panel background */
	.header:has(.header-nav.open) {
		background: var(--surface-2);
		border-bottom: 1px solid var(--border);
	}
	.menu-toggle { display: block; }
	/* Overlay mode: hamburger as blue circular button with white icon */
	.header:not(.solid) .menu-toggle {
		background: var(--link);
		color: #fff;
		border-radius: 999px;
		padding: .5rem;
		box-shadow: 0 2px 6px rgba(0,0,0,0.2);
	}
	/* Solid mode: same blue circular button */
	.header.solid .menu-toggle {
		background: var(--link);
		color: #fff;
		border-radius: 999px;
		padding: .5rem;
		box-shadow: 0 2px 6px rgba(0,0,0,0.2);
	}
	.header-nav { position: fixed; top: var(--header-height); left: 0; right: 0; background: var(--surface-2); border-bottom: 1px solid var(--border); padding: 1rem 2rem; transform: translateY(-100%); opacity: 0; visibility: hidden; transition: transform var(--menu-dur) var(--menu-ease), opacity var(--menu-dur) var(--menu-ease), visibility var(--menu-dur) var(--menu-ease); max-height: calc(100vh - var(--header-height)); overflow-y: auto; overflow-x: hidden; width: 100%; will-change: transform, opacity; }
	/* Overlay mode: only colorize when open; initial bar remains transparent */
	.header:not(.solid) .header-nav { background: var(--surface-2); border-bottom: 1px solid var(--border); }
	.header-nav.open { transform: translateY(0); opacity: 1; visibility: visible; }
			.header.solid .header-nav { background: var(--surface-2); border-bottom: 1px solid var(--border); }
			.header-nav.open .nav-link { color: var(--fg); text-shadow: none; }
	.nav-list { flex-direction: column; gap: 0; width: 100%; }
	.nav-item { position: static; flex: none; width: 100%; }
	.nav-item:not(.expanded) { display: block; }
	.nav-item.expanded ~ .nav-item { display: none; }
	.nav-list:has(.nav-item.expanded) .nav-item:not(.expanded) { display: none; }
	.nav-item.expanded .nav-link { display: none; }
	.nav-link { justify-content: flex-start; border-right: none; border-bottom: 1px solid var(--border); padding: 1rem; }
	.header.solid .nav-link { border-bottom: 1px solid var(--border); }
	.nav-item:last-child .nav-link { border-bottom: 1px solid var(--border); }
	/* Full-width dropdown anchored to the menu panel */
	.dropdown { position: static; left: 0; right: 0; opacity: 0; visibility: hidden; transform: none; margin: 0; background: var(--surface-2); max-height: 0; overflow: hidden; transition: max-height var(--menu-dur) var(--menu-ease), opacity var(--menu-dur) var(--menu-ease), visibility var(--menu-dur) var(--menu-ease); border: none; width: 100%; padding: 0; border-radius: 0; display: block; will-change: max-height, opacity; }
	/* Prevent off-screen shift on mobile */
	.dropdown.open { transform: none; left: 0; right: 0; border-top-left-radius: 0; border-top-right-radius: 0; }
	.header.solid .dropdown { background: var(--surface-2); }
	.dropdown.open { opacity: 1; visibility: visible; max-height: 1000px; padding: 1rem; }
	/* Gentle slide for content on open/close */
	.dropdown-content { width: 100%; max-width: 100%; flex-direction: column; gap: 1.5rem; overflow-x: hidden; transform: translateY(6px); transition: transform var(--menu-dur) var(--menu-ease); will-change: transform; }
	.dropdown.open .dropdown-content { transform: translateY(0); }
	/* Mobile dropdown header: shows selected main group and back button */
	.dropdown-header { display: flex; align-items: center; justify-content: space-between; gap: .5rem; padding-bottom: .5rem; border-bottom: 1px solid var(--border); min-height: 40px; }
	.dropdown-title { font-weight: 700; font-size: 1rem; line-height: 1; display: flex; align-items: center; }
	.dropdown-back { background: none; border: 1px solid var(--border); border-radius: 8px; color: inherit; padding: .35rem .5rem; display: grid; place-items: center; cursor: pointer; line-height: 1; height: 32px; width: 32px; }
	.dropdown-back:hover { background: var(--surface); }
	.section-title { font-size: .85rem; padding: 0 0 .5rem; margin-bottom: .5rem; }
	.section-items { overflow-x: hidden; }
	.dropdown-link { padding: .4rem 0; font-size: .9rem; word-break: break-word; overflow-wrap: anywhere; }
	.dropdown-link:hover { padding-left: .3rem; }
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
	.header,
	.header-nav,
	.dropdown,
	.dropdown-content {
		transition: none !important;
	}
}
.container{max-width:var(--container-max);margin:0 auto;padding:2rem}
.status{opacity:.8}
.status.error{color:#e5534b}
.grid{list-style:none;display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:1rem;padding:0}
.card{border:1px solid var(--border);border-radius:10px;padding:1rem;background:var(--surface)}
.card img{width:100%;height:200px;object-fit:cover;border-radius:8px}

/* Hero styles */
.hero { position: relative; width: 100%; height: 70vh; min-height: 320px; }
.hero-media { position: relative; width: 100%; height: 100%; overflow: hidden; }
.hero-img { width: 100%; height: 100%; object-fit: cover; display: block; z-index: 0; position: absolute; inset: 0; }
.hero-overlay { position: absolute; inset: 0; background: linear-gradient(to top, rgb(0 0 0 / 60%), rgb(0 0 0 / 20%)); z-index: 1; pointer-events: none; }
.hero-content { position: absolute; inset-inline: 0; bottom: 0; padding: 2rem; color: #fff; text-shadow: 0 1px 2px rgb(0 0 0 / 60%); z-index: 2; 
	/* Align hero text with .container content on wide screens */
	padding-inline: max(2rem, calc((100vw - var(--container-max)) / 2 + 2rem));
}
.hero-content h1 { margin: 0 0 .5rem; font-size: clamp(1.75rem, 3vw + 1rem, 3rem); }
.hero-content .subtitle { margin: 0; font-size: clamp(1rem, 1.2vw + .6rem, 1.5rem); opacity: .95 }
.hero-content a { color: inherit; text-decoration: none; }
.hero-content a:hover { text-decoration: underline; }

.badge {
	position: absolute; top: 12px; right: 12px;
	background: rgb(0 0 0 / 55%);
	color: #fff; padding: .35rem .6rem; border-radius: 999px;
	font-size: .8rem; letter-spacing: .02em; backdrop-filter: blur(2px);
	border: 1px solid rgb(255 255 255 / 18%);
	z-index: 3;
}

/* Navigation arrows */
.nav {
	position: absolute; top: 50%; transform: translateY(-50%);
	width: 40px; height: 40px;
	border: none;
	background: none;
	color: #fff; font-size: 24px; line-height: 1; cursor: pointer;
	display: grid; place-items: center;
	transition: opacity .2s ease;
	opacity: .8;
	z-index: 3;
}
.nav:hover, .nav:focus-visible { opacity: 1; }
.nav.prev { left: 12px; }
.nav.next { right: 12px; }
.nav[hidden] { display: none; }

@media (max-width: 640px) {
	.nav { width: 34px; height: 34px; font-size: 20px; }
}

/* Fade transitions */
.fade-img { animation: fadeInFast 2s ease both; }
.fade-text { animation: fadeIn 2s ease both; }
@keyframes fadeInFast { from { opacity: 0 } to { opacity: 1 } }
@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }

/* Novedades section */
.novedades { padding-block: 2rem; }
.novedades h2 { margin: 0 0 1rem; }
.novedades-grid {
	list-style: none; padding: 0; margin: 0;
	display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;
}
.novedad-card { border: 1px solid var(--border); border-radius: 10px; overflow: hidden; background: var(--surface); }
.novedad-link { color: inherit; text-decoration: none; display: block; }
.novedad-card img { width: 100%; height: 180px; object-fit: cover; display: block; }
.novedad-body { padding: .75rem .9rem; }
.novedad-title { margin: .35rem 0 0; font-size: 1.05rem; }
.chip { display: inline-block; font-size: .75rem; border: 1px solid var(--border); border-radius: 999px; padding: .1rem .5rem; background: var(--surface-2); }

@media (max-width: 960px) {
	.novedades-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px) {
	.novedades-grid {
		display: grid;
		/* Clear the 2-col layout from the 960px rule */
		grid-template-columns: none;
		grid-template-rows: 1fr;
		grid-auto-flow: column;
		grid-auto-columns: 100%; /* one card per view */
		overflow-x: auto;
		scroll-snap-type: x mandatory;
		gap: .75rem;
		padding-bottom: .5rem;
		-webkit-overflow-scrolling: touch;
		overscroll-behavior-x: contain;
		scrollbar-width: none; /* Firefox */
	}
	.novedades-grid::-webkit-scrollbar { display: none; }
	.novedad-card { scroll-snap-align: start; scroll-snap-stop: always; min-width: 100%; }
}

	/* Post content */
	.post img { max-width: 100%; height: auto; border-radius: 6px; }
	.post a { color: var(--link); }

	/* Quick links */
	.quick-links { padding-block: 2rem 3rem; }
	.ql-list { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; list-style: none; padding: 0; margin: 0; }
	.ql-item {
		position: relative;
		display: flex; flex-direction: column; align-items: center; justify-content: center;
		text-decoration: none; color: #fff; min-height: 120px;
		border-radius: 10px; overflow: hidden;
	}
	.ql-item .ql-icon { display: grid; place-items: center; margin-bottom: .25rem; }
	.ql-label { font-size: 1rem; font-weight: 600; text-align: center; text-shadow: 0 1px 2px rgb(0 0 0 / 40%); }
	.ql-item::after { content: ""; position: absolute; inset: 0; background: linear-gradient(180deg, rgb(0 0 0 / 0%) 0%, rgb(0 0 0 / 18%) 100%); }
	.ql-item > * { position: relative; z-index: 1; }
	.ql-item:hover { filter: brightness(0.95); }
	.ql-item:active { filter: brightness(0.9); }

	/* Color variants */
	.ql-estudiantes { background: #0ea5e9; }
	.ql-docentes { background: #22c55e; }
	.ql-nodocentes { background: #f59e0b; }
	.ql-graduadas { background: #ef4444; }

	@media (max-width: 960px) {
		.ql-list { grid-template-columns: repeat(2, 1fr); }
	}
	@media (max-width: 560px) {
		.ql-list { grid-template-columns: 1fr; }
	}

/* Agenda components */
.section-header { display: flex; align-items: center; justify-content: space-between; gap: 1rem; }
.section-header .see-all { color: var(--link); text-decoration: none; font-weight: 600; }
.section-header .see-all:hover { text-decoration: underline; }

.agenda-home { padding-block: 1rem 2rem; }
.agenda-list { list-style: none; padding: 0; margin: 1rem 0 0; display: grid; grid-template-columns: 1fr; gap: .75rem; }
.agenda-cols { list-style: none; padding: 0; margin: 1rem 0 0; display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; }
.agenda-col { min-width: 0; }
.agenda-col-list { list-style: none; padding: 0; margin: 0; display: grid; grid-template-rows: masonry; gap: .75rem; }
@media (max-width: 640px) {
	.agenda-cols {
		display: grid;
		grid-template-columns: none;
		grid-template-rows: 1fr;
		grid-auto-flow: column;
		grid-auto-columns: 80%;
		overflow-x: auto;
		scroll-snap-type: x mandatory;
		gap: .75rem;
		padding-bottom: .5rem;
		-webkit-overflow-scrolling: touch;
		overscroll-behavior-x: contain;
		scrollbar-width: none;
	}
	.agenda-cols::-webkit-scrollbar { display: none; }
	.agenda-col { scroll-snap-align: start; scroll-snap-stop: always; }
}
.agenda-list.grid { grid-template-columns: repeat(3, 1fr); }
@media (max-width: 960px) { .agenda-list.grid { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 640px) { .agenda-list.grid { grid-template-columns: 1fr; } }

.agenda-item { background: var(--surface); border: 1px solid var(--border); border-radius: 10px; overflow: hidden; transition: box-shadow .2s ease; }
.agenda-item:hover { box-shadow: 0 6px 20px rgba(0,0,0,.25); }
.agenda-link { display: grid; grid-template-columns: 180px 1fr; gap: 1rem; align-items: center; padding: .85rem 1rem; color: inherit; text-decoration: none; }
@media (max-width: 520px) { .agenda-link { grid-template-columns: 1fr; } }
.agenda-date time { font-variant-numeric: tabular-nums; font-weight: 600; }
.agenda-title { margin: 0 0 .25rem 0; font-size: 1.05rem; }
.agenda-meta { margin: 0; opacity: .9; }

.estado-programada { border-left: 4px solid #0ea5e9; }
.estado-en_curso { border-left: 4px solid #f59e0b; }
.estado-suspendida { border-left: 4px solid #ef4444; }
.estado-finalizada { border-left: 4px solid #22c55e; }

.agenda-page h1 { margin: 0 0 1rem; }
.pagination { display: flex; align-items: center; gap: 1rem; justify-content: center; margin: 1rem 0; }
.pagination button { padding: .5rem .75rem; border-radius: 8px; border: 1px solid var(--border); background: var(--surface); color: inherit; cursor: pointer; }
.pagination button:not(:disabled):hover { background: var(--surface-2); }
.pagination button:disabled { opacity: .6; cursor: default; }

.agenda-detail .agenda-title { margin-bottom: .25rem; }
.agenda-detail .agenda-when { opacity: .9; }
.agenda-detail .agenda-where, .agenda-detail .agenda-status { opacity: .95; }

/* Items and Secciones (generic pages) */
/* Max 4 per row on wide screens, collapses to 2 and then 1 on smaller viewports */
.items-grid { list-style: none; display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; padding: 0; }
.item { border: 1px solid var(--border); border-radius: 12px; padding: 1rem; background: var(--surface); transition: box-shadow .2s ease, transform .12s ease; position: relative; overflow: hidden; }
.item:hover { box-shadow: 0 6px 24px rgba(0,0,0,0.12); transform: translateY(-1px); }
.item a { text-decoration: none; color: inherit; display: block; height: 100%; }
.item__title { margin: 0 0 .25rem; font-size: 1.125rem; }
.item__subtitle { margin: 0; opacity: .9; }
.item--caja { background: var(--surface-2); border-color: color-mix(in oklab, var(--border), var(--foreground) 10%); }
.item--plain { background: var(--surface); }

.secciones-grid { list-style: none; display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; padding: 0; }
.seccion { border: 1px solid var(--border); border-radius: 12px; padding: 1rem; background: var(--surface); transition: box-shadow .2s ease, transform .12s ease; position: relative; overflow: hidden; }
.seccion:hover { box-shadow: 0 6px 24px rgba(0,0,0,0.12); transform: translateY(-1px); }
.seccion a { text-decoration: none; color: inherit; display: block; height: 100%; }
.seccion__title { margin: 0 0 .25rem; font-size: 1.05rem; }
.seccion__subtitle { margin: 0; opacity: .9; }
.seccion--caja { background: var(--surface-2); border-color: color-mix(in oklab, var(--border), var(--foreground) 10%); }
.seccion--plain { background: var(--surface); }

/* Responsive columns similar to quick links */
@media (max-width: 960px) {
	.items-grid { grid-template-columns: repeat(2, 1fr); }
	.secciones-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 560px) {
	.items-grid { grid-template-columns: 1fr; }
	.secciones-grid { grid-template-columns: 1fr; }
}

.lead { opacity: .95; }
.error { color: #b91c1c; }
.breadcrumb { margin: 0 0 1rem; opacity: .9; }
